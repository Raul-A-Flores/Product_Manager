{"ast":null,"code":"import _slicedToArray from\"/Users/raul/Documents/Github/Product_Manager/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import{useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductForm=function ProductForm(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),allProducts=_useState8[0],setAllProducts=_useState8[1];var submitProduct=function submitProduct(e){e.preventDefault();var formInfo={title:title,price:price,description:description};axios.post(\"http://localhost:8000/api/Products\",formInfo).then(function(res){console.log(res);setTitle(\"\");setPrice(\"\");setDescription(\"\");props.setNewProductToggle(!props.newProductToggle);}).catch(function(err){console.log(err);});};useEffect(function(){axios.get(\"http://localhost:8000/api/Products\").then(function(res){console.log(res);setAllProducts(res.data.Products);}).catch(function(err){return console.log(err);});},[props.newProductToggle]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-4 mx-3\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitProduct,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:price,onChange:function onChange(e){return setPrice(e.target.value);},type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},type:\"text\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary mt-3\",value:\"Create\"})]})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Products\"}),allProducts.map(function(oneProduct,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Product: \",/*#__PURE__*/_jsx(Link,{to:\"/Products/\".concat(oneProduct._id),children:oneProduct.title}),\", Price: $\",oneProduct.price]})},oneProduct.id);})]})})})]});};export default ProductForm;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","ProductForm","props","title","setTitle","price","setPrice","description","setDescription","allProducts","setAllProducts","submitProduct","e","preventDefault","formInfo","post","then","res","console","log","setNewProductToggle","newProductToggle","catch","err","get","data","Products","target","value","map","oneProduct","index","_id","id"],"sources":["/Users/raul/Documents/Github/Product_Manager/client/src/components/ProductForm.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { useState } from 'react'\nimport axios from 'axios';\nimport {Link} from 'react-router-dom'\n\n\n\n\n\n\n\nconst ProductForm = (props) => {\n\n\n  let [title, setTitle] =useState(\"\");\n  let [price, setPrice] =useState(\"\");\n  let [description, setDescription] =useState(\"\");\n  let [allProducts, setAllProducts] =useState([]);\n  \n\n\n\n\n  const submitProduct=(e)=>{\n    e.preventDefault();\n    let formInfo ={title, price, description}\n\n    axios.post(\"http://localhost:8000/api/Products\", formInfo)\n          .then(res=>{\n            console.log(res)\n\n\n            setTitle(\"\");\n            setPrice(\"\");\n            setDescription(\"\");\n            props.setNewProductToggle(!props.newProductToggle)\n          })\n\n\n          .catch(err=>{\n            console.log(err)\n          })\n\n\n  };\n\n\n  useEffect(()=>{\n\n    axios.get(\"http://localhost:8000/api/Products\")\n      .then(res=>{\n        console.log(res)\n        setAllProducts(res.data.Products)\n      })\n      .catch(err=>\n        console.log(err))\n\n  },[props.newProductToggle]);\n\n  return (\n    <div>\n      <div className='row justify-content-center'>\n        <div className='col-4 mx-3' >\n          <form onSubmit={submitProduct}>\n            <div className='form-group'>\n              <label htmlFor=''>Title</label>\n              <input className= 'form-control' value={title} onChange={(e)=>setTitle(e.target.value)}type=\"text\"></input>\n            </div>\n            <div className='form-group'>\n              <label htmlFor=''>Price</label>\n              <input className= 'form-control' value={price}  onChange={(e)=>setPrice(e.target.value)} type=\"text\"></input>\n            </div>\n            <div className='form-group'>\n              <label htmlFor=''>Description</label>\n              <input className= 'form-control'  value={description} onChange={(e)=>setDescription(e.target.value)} type=\"text\"></input>\n            </div>\n            <input type=\"submit\" className='btn btn-primary mt-3' value=\"Create\"></input>\n          </form>\n        </div>\n      </div>\n      <hr/>\n      <div>\n        <div>\n          <div>\n            <h2>All Products</h2>\n                {\n\n                  allProducts.map((oneProduct, index)=>{\n\n                    return(\n                      <div key={oneProduct.id}>\n                        <h3>Product: <Link to={`/Products/${oneProduct._id}`}>{oneProduct.title}</Link>\n                        , Price: ${oneProduct.price}\n                        </h3>\n                       \n                        \n                        \n                \n                  \n                      </div>\n                    )\n                  })\n                }  \n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ProductForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}